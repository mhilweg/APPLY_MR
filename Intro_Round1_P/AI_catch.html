{{ block title }}{{ endblock }}

{{ block content }}
<link rel="stylesheet" href="{{ static 'css/css.css' }}">
<link rel="stylesheet" href="{{ static 'css/modal.css' }}">
<script type="text/javascript" src="{{ static 'js/Script_modal.js' }}"></script>
<script type="text/javascript" src="{{ static 'js/data_quality.js' }}"></script>

<style>
.content-box.box-info {
  background-color: var(--neutral);
  padding: 20px;
  border-radius: 8px;
}

.content-box.box-info p,
.content-box.box-info label {
  background-color: var(--neutral);
  margin-bottom: 10px;
  color: inherit; /* keep default text color or customize */
}

.content-box.box-info form {
  background-color: var(--neutral);
  padding: 10px;
  border-radius: 5px;
}
.honeypot-container,
form input[name="honeypot"],
form label[for="id_honeypot"] {
  display: none !important;
  visibility: hidden !important;
  height: 0 !important;
  overflow: hidden !important;
  position: absolute !important;
  left: -9999px !important;
}
</style>

<div class="content-box box-info">
  <div class="section-header text-center">
    <h3>üìù A first task</h3>
    <hr class="section-divider">
  </div>

  <div class="section-box-nonhover box-neutral">
    <div class="ai-catch-wrap">
        <img class="ai-check-img" src="{{ static 'pics/check.jpg' }}" alt="Hand-written code">
<br><br>
        <p>Please type the characters you see:</p>

        {{ formfield 'ai_catch_answer' }}
        <form>
<div class="honeypot-container">
  {{ formfield 'honeypot' }}
</div>
            <input type="hidden" name="mouse_data" id="mouse_data_input">
</form>
    </div>

  </div>
  <div class="buttons-container" style="justify-content: center;">
  <button id="NextButton" class="otree-btn-next btn btn-primary">Next</button>
</div>
</div>
<script>
let mouseLogs = [];

document.addEventListener('mousemove', function (e) {
    const t = performance.now();
    mouseLogs.push({x: e.clientX, y: e.clientY, t: t});
});

// Before the form submits, write JSON into hidden field
document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('form');
    form.addEventListener('submit', function () {
        document.getElementById('mouse_data_input').value = JSON.stringify(mouseLogs);
    });
});
</script>

{{ endblock }}
